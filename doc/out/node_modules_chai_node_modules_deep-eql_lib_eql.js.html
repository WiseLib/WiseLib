<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: node_modules/chai/node_modules/deep-eql/lib/eql.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: node_modules/chai/node_modules/deep-eql/lib/eql.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer &lt;jake@alogicalparadox.com>
 * MIT Licensed
 */

/*!
 * Module dependencies
 */

var type = require('type-detect');

/*!
 * Buffer.isBuffer browser shim
 */

var Buffer;
try { Buffer = require('buffer').Buffer; }
catch(ex) {
  Buffer = {};
  Buffer.isBuffer = function() { return false; }
}

/*!
 * Primary Export
 */

module.exports = deepEqual;

/**
 * Assert super-strict (egal) equality between
 * two objects of any type.
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @param {Array} memoised (optional)
 * @return {Boolean} equal match
 */

function deepEqual(a, b, m) {
  if (sameValue(a, b)) {
    return true;
  } else if ('date' === type(a)) {
    return dateEqual(a, b);
  } else if ('regexp' === type(a)) {
    return regexpEqual(a, b);
  } else if (Buffer.isBuffer(a)) {
    return bufferEqual(a, b);
  } else if ('arguments' === type(a)) {
    return argumentsEqual(a, b, m);
  } else if (!typeEqual(a, b)) {
    return false;
  } else if (('object' !== type(a) &amp;&amp; 'object' !== type(b))
  &amp;&amp; ('array' !== type(a) &amp;&amp; 'array' !== type(b))) {
    return sameValue(a, b);
  } else {
    return objectEqual(a, b, m);
  }
}

/*!
 * Strict (egal) equality test. Ensures that NaN always
 * equals NaN and `-0` does not equal `+0`.
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @return {Boolean} equal match
 */

function sameValue(a, b) {
  if (a === b) return a !== 0 || 1 / a === 1 / b;
  return a !== a &amp;&amp; b !== b;
}

/*!
 * Compare the types of two given objects and
 * return if they are equal. Note that an Array
 * has a type of `array` (not `object`) and arguments
 * have a type of `arguments` (not `array`/`object`).
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @return {Boolean} result
 */

function typeEqual(a, b) {
  return type(a) === type(b);
}

/*!
 * Compare two Date objects by asserting that
 * the time values are equal using `saveValue`.
 *
 * @param {Date} a
 * @param {Date} b
 * @return {Boolean} result
 */

function dateEqual(a, b) {
  if ('date' !== type(b)) return false;
  return sameValue(a.getTime(), b.getTime());
}

/*!
 * Compare two regular expressions by converting them
 * to string and checking for `sameValue`.
 *
 * @param {RegExp} a
 * @param {RegExp} b
 * @return {Boolean} result
 */

function regexpEqual(a, b) {
  if ('regexp' !== type(b)) return false;
  return sameValue(a.toString(), b.toString());
}

/*!
 * Assert deep equality of two `arguments` objects.
 * Unfortunately, these must be sliced to arrays
 * prior to test to ensure no bad behavior.
 *
 * @param {Arguments} a
 * @param {Arguments} b
 * @param {Array} memoize (optional)
 * @return {Boolean} result
 */

function argumentsEqual(a, b, m) {
  if ('arguments' !== type(b)) return false;
  a = [].slice.call(a);
  b = [].slice.call(b);
  return deepEqual(a, b, m);
}

/*!
 * Get enumerable properties of a given object.
 *
 * @param {Object} a
 * @return {Array} property names
 */

function enumerable(a) {
  var res = [];
  for (var key in a) res.push(key);
  return res;
}

/*!
 * Simple equality for flat iterable objects
 * such as Arrays or Node.js buffers.
 *
 * @param {Iterable} a
 * @param {Iterable} b
 * @return {Boolean} result
 */

function iterableEqual(a, b) {
  if (a.length !==  b.length) return false;

  var i = 0;
  var match = true;

  for (; i &lt; a.length; i++) {
    if (a[i] !== b[i]) {
      match = false;
      break;
    }
  }

  return match;
}

/*!
 * Extension to `iterableEqual` specifically
 * for Node.js Buffers.
 *
 * @param {Buffer} a
 * @param {Mixed} b
 * @return {Boolean} result
 */

function bufferEqual(a, b) {
  if (!Buffer.isBuffer(b)) return false;
  return iterableEqual(a, b);
}

/*!
 * Block for `objectEqual` ensuring non-existing
 * values don't get in.
 *
 * @param {Mixed} object
 * @return {Boolean} result
 */

function isValue(a) {
  return a !== null &amp;&amp; a !== undefined;
}

/*!
 * Recursively check the equality of two objects.
 * Once basic sameness has been established it will
 * defer to `deepEqual` for each enumerable key
 * in the object.
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @return {Boolean} result
 */

function objectEqual(a, b, m) {
  if (!isValue(a) || !isValue(b)) {
    return false;
  }

  if (a.prototype !== b.prototype) {
    return false;
  }

  var i;
  if (m) {
    for (i = 0; i &lt; m.length; i++) {
      if ((m[i][0] === a &amp;&amp; m[i][1] === b)
      ||  (m[i][0] === b &amp;&amp; m[i][1] === a)) {
        return true;
      }
    }
  } else {
    m = [];
  }

  try {
    var ka = enumerable(a);
    var kb = enumerable(b);
  } catch (ex) {
    return false;
  }

  ka.sort();
  kb.sort();

  if (!iterableEqual(ka, kb)) {
    return false;
  }

  m.push([ a, b ]);

  var key;
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!deepEqual(a[key], b[key], m)) {
      return false;
    }
  }

  return true;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="server.html">server</a></li></ul><h3>Global</h3><ul><li><a href="global.html"></a></li><li><a href="global.html#__express">__express</a></li><li><a href="global.html#a">a</a></li><li><a href="global.html#above">above</a></li><li><a href="global.html#addChainableMethod">addChainableMethod</a></li><li><a href="global.html#addMethod">addMethod</a></li><li><a href="global.html#addProperty">addProperty</a></li><li><a href="global.html#arguments">arguments</a></li><li><a href="global.html#assert">assert</a></li><li><a href="global.html#Attrs">Attrs</a></li><li><a href="global.html#attrs">attrs</a></li><li><a href="global.html#awesome">awesome</a></li><li><a href="global.html#Base">Base</a></li><li><a href="global.html#below">below</a></li><li><a href="global.html#Block">Block</a></li><li><a href="global.html#BlockComment">BlockComment</a></li><li><a href="global.html#cache">cache</a></li><li><a href="global.html#camelcase">camelcase</a></li><li><a href="global.html#Case">Case</a></li><li><a href="global.html#cdata">cdata</a></li><li><a href="global.html#clean">clean</a></li><li><a href="global.html#closeTo">closeTo</a></li><li><a href="global.html#Code">Code</a></li><li><a href="global.html#color">color</a></li><li><a href="global.html#colorLines">colorLines</a></li><li><a href="global.html#colors">colors</a></li><li><a href="global.html#Command">Command</a></li><li><a href="global.html#Comment">Comment</a></li><li><a href="global.html#compile">compile</a></li><li><a href="global.html#Compiler">Compiler</a></li><li><a href="global.html#Context">Context</a></li><li><a href="global.html#coverage">coverage</a></li><li><a href="global.html#coverageClass">coverageClass</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#cursor">cursor</a></li><li><a href="global.html#Date">Date</a></li><li><a href="global.html#deep">deep</a></li><li><a href="global.html#deepEqual">deepEqual</a></li><li><a href="global.html#deepProperty">deepProperty</a></li><li><a href="global.html#deepPropertyNotVal">deepPropertyNotVal</a></li><li><a href="global.html#deepPropertyVal">deepPropertyVal</a></li><li><a href="global.html#Doc">Doc</a></li><li><a href="global.html#Doctype">Doctype</a></li><li><a href="global.html#doctypes">doctypes</a></li><li><a href="global.html#doesNotThrow">doesNotThrow</a></li><li><a href="global.html#Dot">Dot</a></li><li><a href="global.html#Each">Each</a></li><li><a href="global.html#empty">empty</a></li><li><a href="global.html#eql">eql</a></li><li><a href="global.html#equal">equal</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#errorDiff">errorDiff</a></li><li><a href="global.html#escape">escape</a></li><li><a href="global.html#escapeRegexp">escapeRegexp</a></li><li><a href="global.html#EventEmitter">EventEmitter</a></li><li><a href="global.html#exec">exec</a></li><li><a href="global.html#exist">exist</a></li><li><a href="global.html#fail">fail</a></li><li><a href="global.html#false">false</a></li><li><a href="global.html#files">files</a></li><li><a href="global.html#Filter">Filter</a></li><li><a href="global.html#filter">filter</a></li><li><a href="global.html#filterLeaks">filterLeaks</a></li><li><a href="global.html#filters">filters</a></li><li><a href="global.html#flag">flag</a></li><li><a href="global.html#forEach">forEach</a></li><li><a href="global.html#format">format</a></li><li><a href="global.html#fragment">fragment</a></li><li><a href="global.html#fs">fs</a></li><li><a href="global.html#getAllFlags">getAllFlags</a></li><li><a href="global.html#getEnumerableProperties">getEnumerableProperties</a></li><li><a href="global.html#getMessage">getMessage</a></li><li><a href="global.html#getPathValue">getPathValue</a></li><li><a href="global.html#getProperties">getProperties</a></li><li><a href="global.html#getType">getType</a></li><li><a href="global.html#globals">globals</a></li><li><a href="global.html#growl">growl</a></li><li><a href="global.html#hideSuitesWithout">hideSuitesWithout</a></li><li><a href="global.html#highlight">highlight</a></li><li><a href="global.html#highlightTags">highlightTags</a></li><li><a href="global.html#Hook">Hook</a></li><li><a href="global.html#HTML">HTML</a></li><li><a href="global.html#HTMLCov">HTMLCov</a></li><li><a href="global.html#ignore">ignore</a></li><li><a href="global.html#ignored">ignored</a></li><li><a href="global.html#image">image</a></li><li><a href="global.html#include">include</a></li><li><a href="global.html#includeMembers">includeMembers</a></li><li><a href="global.html#indexOf">indexOf</a></li><li><a href="global.html#inspect">inspect</a></li><li><a href="global.html#instanceOf">instanceOf</a></li><li><a href="global.html#instanceof">instanceof</a></li><li><a href="global.html#interpolate">interpolate</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isatty">isatty</a></li><li><a href="global.html#isBoolean">isBoolean</a></li><li><a href="global.html#isConstant">isConstant</a></li><li><a href="global.html#isDefined">isDefined</a></li><li><a href="global.html#isFalse">isFalse</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#isNotArray">isNotArray</a></li><li><a href="global.html#isNotBoolean">isNotBoolean</a></li><li><a href="global.html#isNotFunction">isNotFunction</a></li><li><a href="global.html#isNotNull">isNotNull</a></li><li><a href="global.html#isNotNumber">isNotNumber</a></li><li><a href="global.html#isNotObject">isNotObject</a></li><li><a href="global.html#isNotString">isNotString</a></li><li><a href="global.html#isNull">isNull</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isString">isString</a></li><li><a href="global.html#isTrue">isTrue</a></li><li><a href="global.html#isUndefined">isUndefined</a></li><li><a href="global.html#itself">itself</a></li><li><a href="global.html#JSONCov">JSONCov</a></li><li><a href="global.html#JSONReporter">JSONReporter</a></li><li><a href="global.html#keys">keys</a></li><li><a href="global.html#Landing">Landing</a></li><li><a href="global.html#language%2520chains">language chains</a></li><li><a href="global.html#least">least</a></li><li><a href="global.html#length">length</a></li><li><a href="global.html#lengthOf">lengthOf</a></li><li><a href="global.html#Lexer">Lexer</a></li><li><a href="global.html#Library">Library</a></li><li><a href="global.html#list">list</a></li><li><a href="global.html#List">List</a></li><li><a href="global.html#Literal">Literal</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#Markdown">Markdown</a></li><li><a href="global.html#match">match</a></li><li><a href="global.html#members">members</a></li><li><a href="global.html#merge">merge</a></li><li><a href="global.html#Min">Min</a></li><li><a href="global.html#Mixin">Mixin</a></li><li><a href="global.html#Mocha">Mocha</a></li><li><a href="global.html#most">most</a></li><li><a href="global.html#Node">Node</a></li><li><a href="global.html#nodes">nodes</a></li><li><a href="global.html#not">not</a></li><li><a href="global.html#notDeepEqual">notDeepEqual</a></li><li><a href="global.html#notDeepProperty">notDeepProperty</a></li><li><a href="global.html#notEqual">notEqual</a></li><li><a href="global.html#notInclude">notInclude</a></li><li><a href="global.html#notInstanceOf">notInstanceOf</a></li><li><a href="global.html#notMatch">notMatch</a></li><li><a href="global.html#notOk">notOk</a></li><li><a href="global.html#notProperty">notProperty</a></li><li><a href="global.html#notStrictEqual">notStrictEqual</a></li><li><a href="global.html#notTypeOf">notTypeOf</a></li><li><a href="global.html#null">null</a></li><li><a href="global.html#nulls">nulls</a></li><li><a href="global.html#NyanCat">NyanCat</a></li><li><a href="global.html#objDisplay">objDisplay</a></li><li><a href="global.html#ok">ok</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#operator">operator</a></li><li><a href="global.html#Option">Option</a></li><li><a href="global.html#outputHelpIfNecessary">outputHelpIfNecessary</a></li><li><a href="global.html#overwriteMethod">overwriteMethod</a></li><li><a href="global.html#overwriteProperty">overwriteProperty</a></li><li><a href="global.html#ownProperty">ownProperty</a></li><li><a href="global.html#pad">pad</a></li><li><a href="global.html#parse">parse</a></li><li><a href="global.html#parseBool">parseBool</a></li><li><a href="global.html#parseQuery">parseQuery</a></li><li><a href="global.html#Parser">Parser</a></li><li><a href="global.html#path">path</a></li><li><a href="global.html#Progress">Progress</a></li><li><a href="global.html#property">property</a></li><li><a href="global.html#propertyNotVal">propertyNotVal</a></li><li><a href="global.html#propertyVal">propertyVal</a></li><li><a href="global.html#reduce">reduce</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#renderFile">renderFile</a></li><li><a href="global.html#respondTo">respondTo</a></li><li><a href="global.html#rethrow">rethrow</a></li><li><a href="global.html#Runnable">Runnable</a></li><li><a href="global.html#Runner">Runner</a></li><li><a href="global.html#runtime">runtime</a></li><li><a href="global.html#s">s</a></li><li><a href="global.html#sameMembers">sameMembers</a></li><li><a href="global.html#satisfy">satisfy</a></li><li><a href="global.html#selfClosing">selfClosing</a></li><li><a href="global.html#slug">slug</a></li><li><a href="global.html#Spec">Spec</a></li><li><a href="global.html#statsTemplate">statsTemplate</a></li><li><a href="global.html#strictEqual">strictEqual</a></li><li><a href="global.html#string">string</a></li><li><a href="global.html#Suite">Suite</a></li><li><a href="global.html#symbols">symbols</a></li><li><a href="global.html#tag">tag</a></li><li><a href="global.html#Tag">Tag</a></li><li><a href="global.html#TAP">TAP</a></li><li><a href="global.html#Teamcity">Teamcity</a></li><li><a href="global.html#test">test</a></li><li><a href="global.html#Test">Test</a></li><li><a href="global.html#text">text</a></li><li><a href="global.html#Text">Text</a></li><li><a href="global.html#textOnly">textOnly</a></li><li><a href="global.html#throw">throw</a></li><li><a href="global.html#throws">throws</a></li><li><a href="global.html#title">title</a></li><li><a href="global.html#toString">toString</a></li><li><a href="global.html#trim">trim</a></li><li><a href="global.html#true">true</a></li><li><a href="global.html#tty">tty</a></li><li><a href="global.html#type">type</a></li><li><a href="global.html#typeOf">typeOf</a></li><li><a href="global.html#undefined">undefined</a></li><li><a href="global.html#unhide">unhide</a></li><li><a href="global.html#use">use</a></li><li><a href="global.html#useColors">useColors</a></li><li><a href="global.html#utils">utils</a></li><li><a href="global.html#version">version</a></li><li><a href="global.html#watch">watch</a></li><li><a href="global.html#window">window</a></li><li><a href="global.html#within">within</a></li><li><a href="global.html#write">write</a></li><li><a href="global.html#XUnit">XUnit</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha10</a> on Wed Oct 29 2014 12:23:10 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
